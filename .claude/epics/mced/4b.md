---
name: Sparse Matrix Construction
status: open
created: 2025-09-05T20:01:57Z
updated: 2025-09-05T20:01:57Z
github: https://github.com/Zou-Bo/MomentumConservedExactDiagonalization.jl/issues/7
depends_on: [001, 002, 003, 004, 4a]
parallel: true
conflicts_with: []
---

# Task: Sparse Matrix Construction - Simple Migration Only

## Description
**MIGRATION ONLY - NO NEW FEATURES**: Migrate the existing sparse matrix construction system that converts scattering lists (one-body and two-body terms) into actual sparse matrix Hamiltonians for each momentum block. No performance improvements or new features - simple migration only.

## Acceptance Criteria (Migration Only)
- [ ] Migrate existing one-body scattering to sparse matrix conversion
- [ ] Migrate existing two-body scattering to sparse matrix conversion
- [ ] Migrate existing sparse matrix assembly using Julia's SparseArrays
- [ ] Migrate existing Hermitian matrix handling
- [ ] Migrate existing real and complex matrix element support
- [ ] Migrate existing matrix validation (Hermiticity, dimensions, structure)
- [ ] Migrate existing tests (no new test features)

## Technical Details (Migration Only)

**MIGRATION ONLY**: Migrate existing sparse matrix construction code without performance improvements or new features.

### Files to Create (Migration)
- `src/sparse_matrix.jl`: Migrate existing sparse matrix construction (single file)
- `test/test_sparse_matrix.jl`: Migrate existing matrix construction tests
- No new benchmark files or performance optimizations

## Dependencies
- [ ] Task 001.md - Package Foundation (provides project structure)
- [ ] Task 002.md - Core EDPara Struct (required for parameters)
- [ ] Task 003.md - MBS64 Type (required for state representation)
- [ ] Task 004.md - Hamiltonian Scattering Lists (required for input)
- [ ] Task 4a.md - Momentum Block Division (required for basis blocks)
- [ ] Access to ExactDiagonalization.jl sparse matrix code for comparison

## Effort Estimate
- Size: M (Medium)
- Hours: 5 hours
- Parallel: true (can run alongside momentum block division)

## Definition of Done (Migration Only)
- **MIGRATION ONLY**: Successfully migrate existing sparse matrix construction code
- No performance improvements or new features
- Migrate existing functionality as-is unless tests fail